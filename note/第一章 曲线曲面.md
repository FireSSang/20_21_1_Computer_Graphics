# 第一章 曲线曲面

## 参数表示

### 参数表示的数学原理：直线段

#### 考虑直线段$P_{0}(x_{0},y_{0},z_{0}) \rightarrow P_{1}(x_{1},y_{1},z_{1})$

- 参数表示
  $$
  R(t)=(1-t)P_{0}+t P_{1} \ \ \ \ \  \ \  \   0\leq t\leq 1
  $$

- 分量表示
  $$
  \begin{cases}
  x(t)=(1-t)x_{0}+tx_{1}\\
  y(t)=(1-t)y_{0}+ty_{1}\ \ \ \ \ \ \ 0\leq t\leq 1\\
  z(t)=(1-t)z_{0}+tz_{1}
  \end{cases}
  $$
  
- 参数空间
  $$
  0\leq t\leq 1
  $$

#### 直线段参数表示的直观几何意义

- 参数空间中每一个参数（点）都对英语直线段上一个点

- 参数空间的两个端点对应于直线段的两个端点
  $$
  R(0)=P_{0}\\
  R(1)=P_{1}
  $$
  
- 

<img src="%E7%AC%AC%E4%B8%80%E7%AB%A0%20%E6%9B%B2%E7%BA%BF%E6%9B%B2%E9%9D%A2.assets/image-20200923182812246.png" alt="image-20200923182812246" style="zoom:50%;" />

#### 一般三维参数曲线形式

$$
R(t)=\big(x(t),y(t),z(t)\big)
$$

- 参数空间中每一个$t$对应于曲线上一个点$R(t)$
- 图形学中，参数空间通常是有限区间，此时参数曲线称为参数曲线段

### 参数表示的数学原理：平面

#### 双线性四边面片

$$
R(u,v)=(1-v)[(1-u)P_{0}+u P_{1}]+v[(1-u)P_{3}+u P_{2}] \ \ \ \ (u,v)\in [0,1]\times [0,1]
$$

#### 四边面片的四个顶点$P_{0}$、$P_{1}$、$P_{2}$、$P_{3}$对应于参数曲面的四个角点$R(0,0)$、$R(1,0)$、$R(1,1)$、$R(0,1)$。

<img src="%E7%AC%AC%E4%B8%80%E7%AB%A0%20%E6%9B%B2%E7%BA%BF%E6%9B%B2%E9%9D%A2.assets/image-20200923183016917.png" alt="image-20200923183016917" style="zoom:50%;" />

#### 一般形式的空间参数曲面

$$
R(u,v)=\big(x(u,v),y(u,v),z(u,v)\big)
$$

#### 参数空间中每一点$(u,v)$对应于曲面上一点$R(u,v)$

#### 如果曲面的参数空间是一个有限的定义域（如矩形），则对应的参数曲面称为参数曲面片

### 参数表示的优势

#### 参数表示是显式的

- 对每一个参数值，可以直接计算曲面上的对应点
- 参数表示的物体可以方便的转化为多边形逼近表示

#### 曲面上的几何量计算简便（微分几何）：法向、曲率、测地线、曲率线等

#### 特殊形式的参数表示的外形控制十分直观

- Bezier、B-样条、NURBS（Non-Uniform Rational B-Spline，非均匀有理B-样条）曲线/曲面

## 参数曲线

### Bezier曲线

#### Bezier曲线定义

- 一条$n$次Bezier曲线：
  $$
  R(t)= \sum_{i=0}^{n}{R_{i}B_{i,n}(t)} \ \ \ \ 0\leq t\leq 1
  $$
  多项式$B_{i,n}(t)$称为Bernstein基函数：
  $$
  B_{i,n}(t)=C_{n}^{i}(i-t)^{n-i}t^{i}
  $$

- 端点插值：

  - $R(0)=R_{0}$
  - $R(1)=R_{1}$

- 端点切向：

  - $R`(0)=n(R_{1}-R_{0})$
  - $R`(1)=n(R_{n}-R_{n-1})$

- 对称性：

  - $\sum_{i=0}{R_{n-i}B_{i,n}(t)}=\sum_{i=0}{R_{i}B_{i,n}(t)}$
  - 曲线的控制顶点的几何地位是对称的
  - 曲线位置相同，走向相反
  - 在起点具有什么性质，在终点就具有什么性质

- 凸包性

  - Bezier曲线位于控制多边形的凸包内

- 几何不变性

  - Bezier曲线的形状仅与控制多边形有关，与坐标系无关

#### 参数曲线的剖分绘制算法

- Bezier曲线筒仓采用递归剖分控制多边形生成
- 每一次剖分均将曲线分为两段，每一段构成一条新的Bezier曲线，且控制多边形更加靠近对应的Bezier曲线

#### Bezier曲线的不足

- 整体性质：当移动曲线的一个控制顶点时，整条曲线的形状都会发生改变
- 表示复杂形状时，需要将多条Bezier曲线光滑拼接起来。

### B-样条曲线

<img src="%E7%AC%AC%E4%B8%80%E7%AB%A0%20%E6%9B%B2%E7%BA%BF%E6%9B%B2%E9%9D%A2.assets/image-20200923183714489.png" alt="image-20200923183714489" style="zoom:67%;" />

#### B-样条曲线的定义

- B-样条曲线是分段连续的多项式曲线

## 参数曲面

### Bezier曲面

![image-20200923183834872](%E7%AC%AC%E4%B8%80%E7%AB%A0%20%E6%9B%B2%E7%BA%BF%E6%9B%B2%E9%9D%A2.assets/image-20200923183834872.png)

#### $m\times n$次Bezier曲面

$$
R(u,v)= \sum_{i=0}^{m}{\sum_{j=0}^{n}{R_{ij}B_{i,m}(u)B_{j,n}(v)}}
$$

- $B_{i,m}(u)$和$B_{j,n}(v)$为Bernstein基函数
- ${R_{ij}}$规则链接形成控制网